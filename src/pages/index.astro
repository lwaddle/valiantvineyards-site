---
import BaseLayout from "../layouts/BaseLayout.astro";
import { Image } from "astro:assets";
import heroImage from "../assets/images/hero-winery-entrance.webp";
import { hours, address, contact } from "../data/site-info";

// Placeholder events - will be replaced with dynamic content collection later
const upcomingEvents = [
  {
    title: "Holiday Wine Tasting Weekend",
    date: "December 14-15, 2024",
    description: "Join us for a special holiday tasting featuring our award-winning wines paired with seasonal treats.",
    href: "#",
  },
  {
    title: "New Year's Eve Celebration",
    date: "December 31, 2024",
    description: "Ring in the new year with live music, champagne toasts, and a spectacular view of the Missouri River.",
    href: "#",
  },
];
---

<BaseLayout title="Home" description="Valiant Vineyards Winery & Distillery - Experience award-winning wines, craft spirits, and warm hospitality in the heart of South Dakota.">
  <section class="relative">
    <!-- Hero with background image -->
    <div class="relative min-h-[70vh] flex items-center justify-center py-24 lg:py-32">
      <!-- Background image -->
      <Image
        src={heroImage}
        alt="Welcome to Valiant Vineyards - view of the winery entrance with rustic welcome sign and wine barrels"
        class="absolute inset-0 h-full w-full object-cover"
        widths={[640, 1024, 1536, 2048]}
        sizes="100vw"
        quality={80}
      />
      <!-- Dark overlay for better contrast -->
      <div class="absolute inset-0 bg-black/40"></div>

      <!-- Content card -->
      <div class="container relative mx-auto px-4 lg:px-8">
        <div class="mx-auto max-w-2xl rounded-xl bg-secondary/65 p-8 text-center backdrop-blur-sm lg:p-12">
          <h1 class="font-serif text-4xl font-semibold tracking-tight text-secondary-foreground sm:text-5xl lg:text-6xl">
            Sip. Celebrate. Stay.
          </h1>
          <p class="mx-auto mt-6 max-w-2xl text-lg text-secondary-foreground/90">
            Since 1996, the Nygaard family has welcomed guests to sip award-winning wines, sample small-batch spirits, and unwind above the Missouri River in Vermillion, South Dakota.
          </p>
          <div class="mt-10 flex flex-col items-center justify-center gap-4 sm:flex-row">
            <a
              href="/tasting-room/"
              class="inline-flex h-11 items-center justify-center rounded-md bg-gold px-8 text-sm font-medium text-white transition-colors hover:bg-gold-dark"
            >
              Visit the Tasting Room
            </a>
            <a
              href="/about/"
              class="inline-flex h-11 items-center justify-center rounded-md border border-secondary-foreground/30 bg-white/10 px-8 text-sm font-medium text-secondary-foreground transition-colors hover:bg-white/20"
            >
              Our Story
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- News & Events Section -->
  <section class="py-16 lg:py-24">
    <div class="container mx-auto px-4 lg:px-8">
      <div class="mb-10 text-center">
        <h2 class="font-serif text-3xl font-semibold tracking-tight sm:text-4xl">What's Happening</h2>
        <p class="mx-auto mt-4 max-w-2xl text-muted-foreground">
          Join us for tastings, live music, and seasonal celebrations at the vineyard.
        </p>
      </div>
      <div class="grid gap-6 md:grid-cols-2">
        {upcomingEvents.map((event) => (
          <a
            href={event.href}
            class="group block rounded-lg border border-border bg-background p-6 transition-all hover:border-gold hover:shadow-md"
          >
            <p class="text-sm font-medium text-gold">{event.date}</p>
            <h3 class="mt-2 font-serif text-xl font-semibold group-hover:text-gold">{event.title}</h3>
            <p class="mt-2 text-muted-foreground">{event.description}</p>
            <span class="mt-4 inline-flex items-center text-sm font-medium text-gold">
              Learn more
              <svg class="ml-1 h-4 w-4 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </span>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- Three Pillars Section -->
  <section class="bg-secondary py-16 lg:py-24">
    <div class="container mx-auto px-4 lg:px-8">
      <div class="grid gap-8 md:grid-cols-3">
        <div class="rounded-lg border border-border bg-background p-8 text-center">
          <div class="mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-gold/10">
            <svg class="h-6 w-6 text-gold" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
          </div>
          <h3 class="font-serif text-xl font-semibold">Wines</h3>
          <p class="mt-2 text-muted-foreground">
            From bold reds to crisp whites, our award-winning wines showcase the best of South Dakota terroir.
          </p>
          <a href="/wines/" class="mt-4 inline-block text-sm font-medium text-gold hover:underline">
            Explore Wines
          </a>
        </div>
        <div class="rounded-lg border border-border bg-background p-8 text-center">
          <div class="mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-gold/10">
            <svg class="h-6 w-6 text-gold" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
            </svg>
          </div>
          <h3 class="font-serif text-xl font-semibold">Spirits</h3>
          <p class="mt-2 text-muted-foreground">
            Stone Faces Distillery crafts small-batch vodka, whiskey, bourbon, and more with local ingredients.
          </p>
          <a href="/distillery/" class="mt-4 inline-block text-sm font-medium text-gold hover:underline">
            Discover Spirits
          </a>
        </div>
        <div class="rounded-lg border border-border bg-background p-8 text-center">
          <div class="mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-gold/10">
            <svg class="h-6 w-6 text-gold" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
            </svg>
          </div>
          <h3 class="font-serif text-xl font-semibold">Stay</h3>
          <p class="mt-2 text-muted-foreground">
            Extend your visit with an overnight stay at our cozy bed & breakfast overlooking the vineyard.
          </p>
          <a href="/bed-and-breakfast/" class="mt-4 inline-block text-sm font-medium text-gold hover:underline">
            Book a Room
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Our Story Teaser -->
  <section class="py-16 lg:py-24">
    <div class="container mx-auto px-4 lg:px-8">
      <div class="mx-auto max-w-3xl text-center">
        <h2 class="font-serif text-3xl font-semibold tracking-tight sm:text-4xl">Pioneers of South Dakota Wine</h2>
        <p class="mt-6 text-lg leading-relaxed text-muted-foreground">
          In 1996, Eldon Nygaard fermented South Dakota's first commercial wine after drafting the legislation that made it possible.
          Today, his family continues the tradition â€” with son Leif, a sixth-generation American winemaker, now leading Stone Faces Distillery.
          What began with a mulberry wine on a Turner County farm has grown into a 15,000-square-foot destination where visitors can taste, celebrate, and stay.
        </p>
        <a
          href="/about/"
          class="mt-8 inline-flex h-11 items-center justify-center rounded-md bg-gold px-8 text-sm font-medium text-white transition-colors hover:bg-gold-dark"
        >
          Read Our Full Story
        </a>
      </div>
    </div>
  </section>

  <!-- Visit Info Section -->
  <section class="bg-secondary py-16 lg:py-24">
    <div class="container mx-auto px-4 lg:px-8">
      <div class="grid gap-12 lg:grid-cols-2 lg:gap-16">
        <!-- Hours -->
        <div>
          <h2 class="font-serif text-3xl font-semibold tracking-tight text-secondary-foreground sm:text-4xl">Plan Your Visit</h2>
          <p class="mt-4 text-secondary-foreground/80">
            Stop by the tasting room to sample our wines and spirits. No reservation needed for tastings.
          </p>
          <div class="mt-8">
            <h3 class="text-sm font-semibold uppercase tracking-wider text-gold">Tasting Room Hours</h3>
            <dl class="mt-4 space-y-2">
              {hours.tastingRoom.map((schedule) => (
                <div class="flex justify-between border-b border-secondary-foreground/10 pb-2">
                  <dt class="text-secondary-foreground/80">{schedule.days}</dt>
                  <dd class="font-medium text-secondary-foreground">{schedule.hours}</dd>
                </div>
              ))}
            </dl>
            {hours.note && (
              <p class="mt-4 text-sm text-secondary-foreground/70">{hours.note}</p>
            )}
          </div>
        </div>

        <!-- Location & Contact -->
        <div>
          <h3 class="text-sm font-semibold uppercase tracking-wider text-gold">Location</h3>
          <p class="mt-4 text-secondary-foreground">
            {address.street}<br />
            {address.city}, {address.state} {address.zip}
          </p>
          <a
            href={address.googleMapsUrl}
            target="_blank"
            rel="noopener noreferrer"
            class="mt-2 inline-flex items-center text-sm font-medium text-gold hover:underline"
          >
            Get Directions
            <svg class="ml-1 h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
            </svg>
          </a>

          <h3 class="mt-8 text-sm font-semibold uppercase tracking-wider text-gold">Contact</h3>
          <p class="mt-4 text-secondary-foreground">
            <a href={`tel:${contact.phone.replace(/[^0-9]/g, '')}`} class="hover:text-gold">{contact.phone}</a><br />
            <a href={`mailto:${contact.email}`} class="hover:text-gold">{contact.email}</a>
          </p>

          <div class="mt-8">
            <a
              href="/tasting-room/"
              class="inline-flex h-11 items-center justify-center rounded-md bg-gold px-8 text-sm font-medium text-white transition-colors hover:bg-gold-dark"
            >
              Tasting Room Details
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
